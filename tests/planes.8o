:macro s8plane N {
	:byte { 0xF0 + N }
	:byte 0x01
}

: main
	i := ball

	s8plane 1
	v0 := 0
	v1 := 0
	sprite v0 v1 8

	s8plane 2
	v0 := 9
	v1 := 0
	sprite v0 v1 8

	clear

	s8plane 2
	v0 := 18
	v1 := 0
	sprite v0 v1 8

	s8plane 3
	v0 := 27
	v1 := 0
	sprite v0 v1 8

	s8plane 1
	v0 := 36
	v1 := 0
	sprite v0 v1 8

	v0 := 8
	i += v0
	s8plane 2
	v0 := 36
	v1 := 0
	sprite v0 v1 8

	i := large-ball

	s8plane 1
	v0 := 0
	v1 := 9
	sprite v0 v1 0

	s8plane 3
	v0 := 17
	v1 := 9
	sprite v0 v1 0

	i := colour-ball

	s8plane 0xF
	v0 := 39
	v1 := 13
	sprite v0 v1 8

	loop again

: ball
  0b00111100
	0b01000110
	0b10001111
	0b10000101
	0b11000001
	0b11110011
	0b01111110
	0b00111100

	0b00111100
	0b01111010
	0b11110001
	0b11111011
	0b11111111
	0b11111111
	0b01111110
	0b00111100

: large-ball
	0b00000011 0b11000000
	0b00001100 0b00110000
	0b00010000 0b00001000
	0b00100000 0b01100100
	0b01100000 0b11110010
	0b01000000 0b11110010
	0b11000000 0b01100001
	0b11000000 0b00000001
	0b11000000 0b00000001
	0b11100000 0b00000001
	0b01110000 0b00000010
	0b01111000 0b00000110
	0b00111110 0b00011100
	0b00011111 0b11111000
	0b00001111 0b11110000
	0b00000011 0b11000000

	0b00000011 0b11000000
	0b00001111 0b11110000
	0b00011111 0b11111000
	0b00111111 0b10011100
	0b01111111 0b00001110
	0b01111111 0b00001110
	0b11111111 0b10011111
	0b11111111 0b11111111
	0b11111111 0b11111111
	0b11111111 0b11111111
	0b01111111 0b11111110
	0b01111111 0b11111110
	0b00111111 0b11111100
	0b00011111 0b11111000
	0b00001111 0b11110000
	0b00000011 0b11000000

: colour-ball
	# Sprite 1 (4 layers, 8 bytes per layer)
	0x00 0x04 0x0e 0x04 0x00 0x00 0x00 0x00
	0x00 0x04 0x0a 0x04 0x00 0x00 0x00 0x00
	0x00 0x3c 0x7a 0x7e 0x3e 0x0c 0x00 0x00
	0x3c 0x42 0x81 0x81 0xc1 0xf3 0x7e 0x3c
