(()=>{var e={364:e=>{e.exports='\0Ã abc\0Â¢,Ã³Ã°e@\0*@Ã¿""{Ã°eÃ‘%Âs\bars\b*   WelcomeÃ¿       to Silicon-8!Ã¿Click the screenÃ¿or drag a *.ch8Ã¿file here ^_^\0dÂ€Bd Â€EÂ¢ÂÂ€Ã°Ã°Ã°\0Ã®\0\0\0\0\0Â€Â€Â€\0Â€Â Â \0\0\0PÃ¸PÃ¸PxÂ p(Ã°Â  @Â€Â @Â @Â pÂ€Â€\0\0\0@Â€Â€Â€@Â€@@@Â€ Â¨pÂ¨ \0@Ã @\0\0\0\0@Â€\0\0Ã \0\0\0\0\0\0Â€  @Â€Â€`ÂÂÂ`@Ã€@@Ã Ã `Â€Ã°Ã `Ã Â€ÂÃ°Ã°Â€Ã Ã `Â€Ã Â`Ã° @@`Â`Â``Âp`\0Â€\0Â€\0\0@\0@Â€ @Â€@ \0Ã \0Ã \0Â€@ @Â€Ã€ @\0@`ÂÂ°Â€``ÂÃ°ÂÂÃ ÂÃ ÂÃ pÂ€Â€Â€pÃ ÂÂÂÃ Ã Â€Ã Â€Ã Ã Â€Ã€Â€Â€pÂ€Â°Â`ÂÂÃ°ÂÂÃ @@@Ã Ã    Ã€ÂÂ Ã€Â ÂÂ€Â€Â€Â€Ã ÂˆÃ˜Â¨ÂˆÂˆÂÃÃ°Â°Â`ÂÂÂ`Ã ÂÃ Â€Â€`ÂÂÂ°pÃ ÂÃ ÂÂpÂ€`Ã Ã¸    ÂÂÂÂ`ÂÂÂ``ÂˆÂˆÂ¨Ã˜ÂˆÂˆP PÂˆÂˆP   Ã  @Â€Ã Ã€Â€Â€Â€Ã€Â€Â€@  Ã€@@@Ã€@Â \0\0\0\0\0\0\0Ã Â€@\0\0\0\0`Â Â `Â€Â€Ã€Â Ã€\0`Â€Â€`  `Â `\0@Â Ã€`@Â€Ã€Â€Â€\0`Â `Ã€Â€Â€Ã€Â Â Â€\0Â€Â€Â€@\0@@Â€Â€Â€Â Ã€Â Ã€@@@@\0Â Ã Â Â \0Ã€Â Â Â \0@Â Â @\0Ã€Â Ã€Â€\0`Â ` \0Â Ã€Â€Â€\0@Â€@Â€Â€Â€Ã€Â€@\0Â Â Â @\0Â Â @@\0Â Â Ã Â \0Â @@Â \0Â Â @Â€\0Ã€@Â€Ã€`@Â€@`Â€Â€Â€Â€Â€Ã€@ @Ã€\0PÂ \0\0'},447:e=>{e.exports={AUTO:0,STRICTVIP:1,VIP:2,BLINDVIP:3,SCHIP:4,XOCHIP:5}},497:e=>{const t=document.getElementById("display"),s=t.getContext("2d");e.exports={render:(e,n,a)=>{t.width=e,t.height=n;const r=s.createImageData(e,n);for(let t=0;t<n*e;t++){const e=4*t,s=3*t;r.data[e+0]=a[s+0],r.data[e+1]=a[s+1],r.data[e+2]=a[s+2],r.data[e+3]=255}s.putImageData(r,0,0)}}},755:e=>{const t=new Go;WebAssembly.instantiateStreaming||(WebAssembly.instantiateStreaming=async(e,t)=>{const s=await(await e).arrayBuffer();return await WebAssembly.instantiate(s,t)}),e.exports=class{constructor({playSound:e,stopSound:s,display:n}){e||=()=>{},s||=()=>{},this._running=!1,this._stopSound=s,Object.assign(t.importObject.env,{"main.randomByte":()=>255&Math.floor(256*Math.random()),"main.playSound":(t,s,n)=>{s=new Uint8Array(this._cpu.memory.buffer,s,16),e(t,s,n)},"main.stopSound":s,"main.render":(e,t,s)=>{const a=new Uint8Array(this._cpu.memory.buffer,s,e*t*3);n.render(e,t,a)}})}init(){return WebAssembly.instantiateStreaming(fetch("silicon8.wasm"),t.importObject).then((e=>{this._cpu=e.instance.exports,t.run(e.instance),this._interval=setInterval((()=>{this._running&&this._cpu.clockTick()}),1e3/60)})).catch((e=>{console.error(e)}))}setCyclesPerFrame(e){this._cpu.setCyclesPerFrame(e)}loadProgram(e,t){this._cpu.reset(e);const s=new Uint8Array(this._cpu.memory.buffer,this._cpu.ramPtr(),this._cpu.ramSize());for(let e=512;e<512+t.length;e++)s[e]=t[e-512]}dumpStatus(){this._cpu.dumpStatus()}pressKey(e){this._cpu.pressKey(e)}releaseKey(e){this._cpu.releaseKey(e)}start(){this._running=!0}stop(){this._stopSound(),this._running=!1}}},996:(e,t,s)=>{const n=s(82);e.exports=e=>{const t={};let s=[],a=!1;const r={12:5,14:7,15:9,13:8,0:6,1:4};function o(){if(!a)return;const n=navigator.getGamepads();if(n){for(const a of n)if(a)if(t[a.index]){for(const s in r)a.buttons[s].pressed!=t[a.index][s]&&(a.buttons[s].pressed?e.pressKey(r[s]):e.releaseKey(r[s]));i(a)}else s.includes(a.index)||(console.warn("Got an unannounced gamepad:",a),s.push(a.index));requestAnimationFrame(o)}}function i(e){t[e.index]=Object.keys(r).map((t=>[t,e.buttons[t].pressed])).reduce(((e,t)=>(e[t[0]]=t[1],e)),{})}window.addEventListener("gamepadconnected",(e=>{if("standard"!=e.gamepad.mapping)return s.push(e.gamepad.index),console.log(`ðŸŽ® Ignoring gamepad ${e.gamepad.id} because it is not a 'standard mapping' gamepad`);n(`ðŸŽ® Connected to gamepad "${e.gamepad.id}"`),i(e.gamepad),a||(a=!0,requestAnimationFrame(o))})),window.addEventListener("gamepaddisconnected",(e=>{s.includes(e.gamepad.index)&&(s=s.filter((t=>t!=e.gamepad.index))),t[e.gamepad.index]&&(n(`ðŸŽ® Gamepad "${e.gamepad.id}" disconnected`),delete t[e.gamepad.index],0==Object.keys(t).length&&(a=!1))}))}},432:e=>{let t=30;e.exports=e=>{const s={38:5,37:7,39:9,40:8,49:1,50:2,51:3,52:12,81:4,87:5,69:6,82:13,65:7,83:8,68:9,70:14,90:10,88:0,67:11,86:15,48:0,53:5,54:6,55:7,56:8,57:9,32:6,16:4,17:6};window.addEventListener("keydown",(n=>{if(e)switch(n.keyCode){case 13:return e.dumpStatus();case 187:return t*=2,e.setCyclesPerFrame(t);case 189:return t/=2,e.setCyclesPerFrame(t);default:Object.keys(s).includes(n.keyCode.toString())&&e.pressKey(s[n.keyCode])}})),window.addEventListener("keyup",(t=>{e&&s[t.keyCode]&&e.releaseKey(s[t.keyCode])})),document.querySelectorAll(".keyboard button").forEach((t=>{t.addEventListener("touchstart",(()=>{e.pressKey(t.dataset.value)}),{passive:!0}),t.addEventListener("touchend",(()=>{e.releaseKey(t.dataset.value)}),{passive:!0})}))}},82:e=>{e.exports=e=>{const t=document.querySelector(".notification");t.innerText=e,t.classList.add("active"),setTimeout((()=>t.classList.remove("active")),5e3)}},259:e=>{e.exports=e=>{const t=document.querySelector(".settings");let s;return t.querySelector("button").addEventListener("click",(()=>{const n=t.querySelector('input[name="interpreter"]:checked').value,a=t.querySelector('select[name="speed"]').value;e.loadProgram(n,s),e.setCyclesPerFrame(a),t.classList.remove("active"),e.start()})),e=>{s=e,t.classList.add("active")}}},281:e=>{e.exports={playSound:(e,s,n)=>{e?(t.instance().setToSound(s,n),t.instance().setVolume(3e-4)):(t.instance().setToBleep(),t.instance().setVolume(.1))},stopSound:()=>{t.instance().setVolume(0)}};class t{constructor(){this._audioCtx=new(window.AudioContext||window.webkitAudioContext||window.audioContext),this._oscillator=this._audioCtx.createOscillator(),this._gainNode=this._audioCtx.createGain(),this._oscillator.connect(this._gainNode),this._gainNode.connect(this._audioCtx.destination),this.setVolume(0),this._oscillator.start()}setVolume(e){this._gainNode.gain.value=e}setToBleep(){this._oscillator.frequency.value=600,this._oscillator.type="triangle"}setToSound(e,t){this._oscillator.setPeriodicWave(this._periodicWave(this._patternToBits(e))),this._oscillator.frequency.value=t/128}_patternToBits(e){const t=new Float32Array(512);let s=0;for(const n of e){let e=128;for(;0!=e;){const a=0!=(n&e)?1:0;t[s++]=a,t[s++]=a,t[s++]=a,t[s++]=a,e>>=1}}return t}_periodicWave(e){var t=new Float32Array(e.length),s=this._FFT(e,t);return this._audioCtx.createPeriodicWave(s[0].slice(0,s[0].length/2),s[1].slice(0,s[1].length/2),{disableNormalization:!0})}_FFT(e,t){var s=e.length;if(1==s)return[e,t];for(var n=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),r=new Float32Array(s/2),o=new Float32Array(s/2),i=new Float32Array(s/2),c=new Float32Array(s/2),l=0;l<s;l++)1&l?(i[l>>1]=e[l],c[l>>1]=t[l]):(r[l>>1]=e[l],o[l>>1]=t[l]);for(var d=this._FFT(r,o),u=this._FFT(i,c),h=d[0],p=d[1],_=u[0],g=u[1],m=new Float32Array(s),f=new Float32Array(s),y=(l=0,s/2),v=1,w=0,b=0;l<y;l++){var A=h[l],x=p[l],S=_[l],C=g[l];m[l]=A+v*S-w*C,f[l]=x+v*C+w*S,m[l+y]=A-v*S+w*C,f[l+y]=x-v*C-w*S,b=v*n-w*a,w=v*a+w*n,v=b}return[m,f]}}t.instance=()=>t._instance?t._instance:t._instance=new t}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{constructor(){this._handlers={},document.addEventListener("click",(e=>this._callHandler("click",e))),document.addEventListener("mousedown",(e=>this._callHandler("mousedown",e))),document.addEventListener("mouseup",(e=>this._callHandler("mouseup",e)))}register(e,t={click:null,mousedown:null,mouseup:null}){"function"==typeof t&&(t={click:t}),this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t)}_callHandler(e,t){Object.keys(this._handlers).forEach((s=>{null!==t.target.closest(s)&&this._handlers[s].map((t=>t[e])).forEach((e=>{"function"!=typeof e||t.defaultPrevented||e(t,s)}))}))}}e.instance=function(){return e._instance?e._instance:e._instance=new e};const t=e;class n{constructor(e="dragging"){this._dragClass=e,this._handlers={},document.addEventListener("dragover",(e=>this._dragOver(e))),document.addEventListener("dragleave",(e=>this._dragLeave(e))),document.addEventListener("drop",(e=>this._drop(e)))}register(e,s){this._handlers[e]=s,t.instance().register(e,((e,t)=>this._openFileDialog(e,t)))}_dragOver(e){this._isDropTarget(e.target)&&(e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",e.target.classList.add(this._dragClass))}_dragLeave(e){this._isDropTarget(e.target)&&(e.stopPropagation(),e.preventDefault(),e.target.classList.remove(this._dragClass))}_drop(e){let t=this._isDropTarget(e.target);t&&(e.stopPropagation(),e.preventDefault(),e.target.classList.remove(this._dragClass),this._handleFile(t,e,e.dataTransfer.files[0]))}_isDropTarget(e){return Object.keys(this._handlers).find((t=>{if(e.closest(t))return t}))||!1}_openFileDialog(e,t){const s=document.createElement("input");s.type="file",s.addEventListener("change",(s=>this._handleFile(t,e,s.target.files[0]))),s.click()}_handleFile(e,t,s){this._readFile(s).then((n=>this._handlers[e](s,n,t)))}_readFile(e){return new Promise(((t,s)=>{var n=new FileReader;n.addEventListener("load",(e=>t(e.target.result))),n.readAsDataURL(e)}))}}n.instance=function(){return n._instance?n._instance:n._instance=new n};const a=n;class r{constructor(e=!1,t=null){this._routes=[],e&&this.addRoutes(e,t)}install(){return t.instance().register("a[href]",(e=>this._handleClick(e))),window.addEventListener("hashchange",(e=>this._handleNavigationEvent(e))),window.addEventListener("load",(e=>this._handleNavigationEvent(e))),this}addRoute(e,t){return this._routes.push([e,t]),this}addRoutes(e,t=null){return Array.isArray(e)?e.forEach((e=>this.addRoute(e,t))):Object.keys(e).forEach((t=>this.addRoute(t,e[t]))),this}route(e,t){const s=this._matchingRoute(e);return s&&s.router?s.router.route(s.subpath,t):s&&s.handler?s.handler(s.route,s.matches,t):void 0}_handleClick(e){let t=e.target.getAttribute("href");t.startsWith("#")&&(t=t.substr(1),this._matchingRoute(t)&&(window.location.hash=t,e.preventDefault()))}_handleNavigationEvent(e){let t=window.location.hash;t.startsWith("#")&&(t=t.substr(1)),this.route(t,e)}_matchingRoute(e){return e&&(this._subRouterMatch(e)||this._stringMatch(e)||this._regExpMatch(e))}_subRouterMatch(e){const t=this._routes.filter((e=>e[1]instanceof r)).find((t=>e.startsWith(t[0]+"/")||e==t[0]));return t&&{router:t[1],subpath:e.substr(t[0].length+1)}}_stringMatch(e){const t=this._routes.find((t=>e==t[0]));return t&&{route:t[0],handler:t[1]}}_regExpMatch(e){const t=this._routes.filter((e=>e[0]instanceof RegExp)).find((t=>e.match(t[0])));return t&&{route:t[0],handler:t[1],matches:e.match(t[0])}}}const o={Click:t,FileTarget:a,Router:r,Energize:class{constructor(e,s={}){this._scope=e,this._options=this._normalizeOptions(s),t.instance().register(`${e} [${this._options.open}], ${e} [${this._options.close}], ${e} [${this._options.toggle}]`,(e=>this._handleClick(e)))}_normalizeOptions(e){return Object.assign({class:"active",open:"data-open",close:"data-close",toggle:"data-toggle",group:"data-group",timer:"data-timer",follower:"data-follower"},e)}_handleClick(e){const t=e.target.closest(`[${this._options.open}], [${this._options.close}], [${this._options.toggle}]`),s=t.getAttribute(this._options.close),n=t.getAttribute(this._options.open),a=t.getAttribute(this._options.toggle);let r=s?document.querySelectorAll(`${this._scope} ${s}`):[],o=n?document.querySelectorAll(`${this._scope} ${n}`):[];r=[...r,...a?document.querySelectorAll(`${this._scope} ${a}.${this._options.class}`):[]],o=[...o,...a?document.querySelectorAll(`${this._scope} ${a}:not(.${this._options.class})`):[]],this._close(r),this._open(o),e.preventDefault(),e.stopPropagation()}_close(e){e.forEach((e=>{e.classList.remove(this._options.class),this._close(this._followers(e))}))}_open(e){e.forEach((e=>{this._close(this._group(e)),e.classList.add(this._options.class),this._open(this._followers(e));const t=e.getAttribute(this._options.timer);t&&window.setTimeout((()=>this._close([e])),t)}))}_group(e){const t=e.getAttribute(this._options.group);return t?[...document.querySelectorAll(`${this._scope} [${this._options.group}=${t}]`)]:[]}_followers(e){const t=e.getAttribute(this._options.follower);return t?[...document.querySelectorAll(`${this._scope} ${t}`)]:[]}}},i=o;window.Thimbleful=o;var c=s(364),l=s.n(c);const d=s(447),u=new Uint8Array(l().length);for(let e=0;e<l().length;e++)u[e]=l().charCodeAt(e);window.addEventListener("load",(async()=>{const e=s(755),t=s(432),n=s(996),a=s(259),r=s(497),{playSound:o,stopSound:c}=s(281),l=new e({display:r,playSound:o,stopSound:c});await l.init(),t(l),n(l);const h=a(l);l.loadProgram(d.AUTO,u),l.start(),i.FileTarget.instance().register("#display",((e,t)=>{if(".ch8"!=e.name.substr(-4))return alert("You can only load *.ch8 CHIP-8 ROMs");t=atob(t.split(",")[1]);const s=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);l.stop(),h(s)}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWJwYWNrOi8vc2lsaWNvbjgvLi9zaGFyZWQvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi93ZWItY2xpZW50L2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi93ZWItY2xpZW50L2VtdWxhdG9yLmpzIiwid2VicGFjazovL3NpbGljb244Ly4vd2ViLWNsaWVudC9nYW1lcGFkLmpzIiwid2VicGFjazovL3NpbGljb244Ly4vd2ViLWNsaWVudC9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly9zaWxpY29uOC8uL3dlYi1jbGllbnQvbm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL3NpbGljb244Ly4vd2ViLWNsaWVudC9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly9zaWxpY29uOC8uL3dlYi1jbGllbnQvc291bmQuanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NpbGljb244L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi9ub2RlX21vZHVsZXMvdGhpbWJsZWZ1bC9zcmMvY2xpY2suanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi9ub2RlX21vZHVsZXMvdGhpbWJsZWZ1bC9zcmMvZmlsZXRhcmdldC5qcyIsIndlYnBhY2s6Ly9zaWxpY29uOC8uL25vZGVfbW9kdWxlcy90aGltYmxlZnVsL3NyYy9yb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi9ub2RlX21vZHVsZXMvdGhpbWJsZWZ1bC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi9ub2RlX21vZHVsZXMvdGhpbWJsZWZ1bC9zcmMvZW5lcmdpemUuanMiLCJ3ZWJwYWNrOi8vc2lsaWNvbjgvLi93ZWItY2xpZW50L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJcXHUwMDAww6BhXFx1MDAwMWJcXHUwMDAxY1xcdTAwMDDCoizDs1xcdTAwMWXDsGVAXFx1MDAwMFxcdTAwMTIqQMO/XFx1MDAxMlxcXCJcXFwie8OwZcORJcKBXFx1MDAwNHNcXHUwMDAxXFx1MDAxMlxcYmFcXHUwMDAxclxcdTAwMDZzXFx1MDAwMVxcdTAwMTJcXGJcXHUwMDEyKiAgIFdlbGNvbWXDvyAgICAgICB0byBTaWxpY29uLTghw79DbGljayB0aGUgc2NyZWVuw79vciBkcmFnIGEgKi5jaDjDv2ZpbGUgaGVyZSBeX15cXHUwMDAwZH/CgEJkIMKARcKiwo/CgFxcdTAwMGXDsFxcdTAwMWXDsFxcdTAwMWXDsFxcdTAwMWVcXHUwMDAww65cXHUwMDAyXFx1MDAwMFxcdTAwMDBcXHUwMDAwXFx1MDAwMFxcdTAwMDBcXHUwMDAywoDCgMKAXFx1MDAwMMKAXFx1MDAwNMKgwqBcXHUwMDAwXFx1MDAwMFxcdTAwMDBcXHUwMDA2UMO4UMO4UFxcdTAwMDZ4wqBwKMOwXFx1MDAwNMKgIEDCgMKgXFx1MDAwNUDCoEDCoHBcXHUwMDAywoDCgFxcdTAwMDBcXHUwMDAwXFx1MDAwMFxcdTAwMDNAwoDCgMKAQFxcdTAwMDPCgEBAQMKAXFx1MDAwNiDCqHDCqCBcXHUwMDA0XFx1MDAwMEDDoEBcXHUwMDAwXFx1MDAwM1xcdTAwMDBcXHUwMDAwXFx1MDAwMEDCgFxcdTAwMDRcXHUwMDAwXFx1MDAwMMOgXFx1MDAwMFxcdTAwMDBcXHUwMDAyXFx1MDAwMFxcdTAwMDBcXHUwMDAwXFx1MDAwMMKAXFx1MDAwNCAgQMKAwoBcXHUwMDA1YMKQwpDCkGBcXHUwMDA0QMOAQEDDoFxcdTAwMDXDoFxcdTAwMTBgwoDDsFxcdTAwMDXDoFxcdTAwMTBgXFx1MDAxMMOgXFx1MDAwNcKAwpDDsFxcdTAwMTBcXHUwMDEwXFx1MDAwNcOwwoDDoFxcdTAwMTDDoFxcdTAwMDVgwoDDoMKQYFxcdTAwMDXDsFxcdTAwMTAgQEBcXHUwMDA1YMKQYMKQYFxcdTAwMDVgwpBwXFx1MDAxMGBcXHUwMDAyXFx1MDAwMMKAXFx1MDAwMMKAXFx1MDAwMFxcdTAwMDNcXHUwMDAwQFxcdTAwMDBAwoBcXHUwMDA0IEDCgEAgXFx1MDAwNFxcdTAwMDDDoFxcdTAwMDDDoFxcdTAwMDBcXHUwMDA0woBAIEDCgFxcdTAwMDTDgCBAXFx1MDAwMEBcXHUwMDA1YMKQwrDCgGBcXHUwMDA1YMKQw7DCkMKQXFx1MDAwNcOgwpDDoMKQw6BcXHUwMDA1cMKAwoDCgHBcXHUwMDA1w6DCkMKQwpDDoFxcdTAwMDTDoMKAw6DCgMOgXFx1MDAwNMOgwoDDgMKAwoBcXHUwMDA1cMKAwrDCkGBcXHUwMDA1wpDCkMOwwpDCkFxcdTAwMDTDoEBAQMOgXFx1MDAwNMOgICAgw4BcXHUwMDA1wpDCoMOAwqDCkFxcdTAwMDTCgMKAwoDCgMOgXFx1MDAwNsKIw5jCqMKIwohcXHUwMDA1wpDDkMOwwrDCkFxcdTAwMDVgwpDCkMKQYFxcdTAwMDXDoMKQw6DCgMKAXFx1MDAwNWDCkMKQwrBwXFx1MDAwNcOgwpDDoMKQwpBcXHUwMDA1cMKAYFxcdTAwMTDDoFxcdTAwMDbDuCAgICBcXHUwMDA1wpDCkMKQwpBgXFx1MDAwNcKQwpDCkGBgXFx1MDAwNsKIwojCqMOYwohcXHUwMDA2wohQIFDCiFxcdTAwMDbCiFAgICBcXHUwMDA0w6AgQMKAw6BcXHUwMDAzw4DCgMKAwoDDgFxcdTAwMDTCgMKAQCAgXFx1MDAwM8OAQEBAw4BcXHUwMDA0QMKgXFx1MDAwMFxcdTAwMDBcXHUwMDAwXFx1MDAwNFxcdTAwMDBcXHUwMDAwXFx1MDAwMFxcdTAwMDDDoFxcdTAwMDPCgEBcXHUwMDAwXFx1MDAwMFxcdTAwMDBcXHUwMDA0XFx1MDAwMGDCoMKgYFxcdTAwMDTCgMKAw4DCoMOAXFx1MDAwNFxcdTAwMDBgwoDCgGBcXHUwMDA0ICBgwqBgXFx1MDAwNFxcdTAwMDBAwqDDgGBcXHUwMDAzQMKAw4DCgMKAXFx1MDAwNFxcdTAwMDBgwqBgw4BcXHUwMDA0woDCgMOAwqDCoFxcdTAwMDLCgFxcdTAwMDDCgMKAwoBcXHUwMDAzQFxcdTAwMDBAQMKAXFx1MDAwNMKAwoDCoMOAwqBcXHUwMDAzw4BAQEBAXFx1MDAwNFxcdTAwMDDCoMOgwqDCoFxcdTAwMDRcXHUwMDAww4DCoMKgwqBcXHUwMDA0XFx1MDAwMEDCoMKgQFxcdTAwMDRcXHUwMDAww4DCoMOAwoBcXHUwMDA0XFx1MDAwMGDCoGAgXFx1MDAwNFxcdTAwMDDCoMOAwoDCgFxcdTAwMDNcXHUwMDAwQMKAQMKAXFx1MDAwM8KAwoDDgMKAQFxcdTAwMDRcXHUwMDAwwqDCoMKgQFxcdTAwMDRcXHUwMDAwwqDCoEBAXFx1MDAwNFxcdTAwMDDCoMKgw6DCoFxcdTAwMDRcXHUwMDAwwqBAQMKgXFx1MDAwNFxcdTAwMDDCoMKgQMKAXFx1MDAwM1xcdTAwMDDDgEDCgMOAXFx1MDAwNGBAwoBAYFxcdTAwMDLCgMKAwoDCgMKAXFx1MDAwNMOAQCBAw4BcXHUwMDA1XFx1MDAwMFDCoFxcdTAwMDBcXHUwMDAwXCIiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQVVUTzogICAgICAwLFxuICBTVFJJQ1RWSVA6IDEsICAvLyBOb3RlIHRoYXQgdGhlc2UgdHdvIGhhbHQgZm9yIGRpc3BsYXkgcmVmcmVzaCwgdXNlIEJMSU5EVklQXG4gIFZJUDogICAgICAgMiwgIC8vIGluc3RlYWQgZm9yIGhlYWRsZXNzIHRlc3RpbmdcbiAgQkxJTkRWSVA6ICAzLFxuICBTQ0hJUDogICAgIDQsXG4gIFhPQ0hJUDogICAgNVxufTtcbiIsImNvbnN0IGNhbnZhcyAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheScpO1xuY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVuZGVyOiAod2lkdGgsIGhlaWdodCwgYnl0ZXMpID0+IHtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGhlaWdodCAqIHdpZHRoOyBpKysgKSB7XG4gICAgICBjb25zdCBkaXNwbGF5T2Zmc2V0ICA9IGkgKiA0O1xuICAgICAgY29uc3Qgc2lsaWNvbjhPZmZzZXQgPSBpICogMztcbiAgICAgIGltYWdlRGF0YS5kYXRhW2Rpc3BsYXlPZmZzZXQrMF0gPSBieXRlc1tzaWxpY29uOE9mZnNldCswXTtcbiAgICAgIGltYWdlRGF0YS5kYXRhW2Rpc3BsYXlPZmZzZXQrMV0gPSBieXRlc1tzaWxpY29uOE9mZnNldCsxXTtcbiAgICAgIGltYWdlRGF0YS5kYXRhW2Rpc3BsYXlPZmZzZXQrMl0gPSBieXRlc1tzaWxpY29uOE9mZnNldCsyXTtcbiAgICAgIGltYWdlRGF0YS5kYXRhW2Rpc3BsYXlPZmZzZXQrM10gPSAweEZGO1xuICAgIH1cbiAgICBjb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICB9XG59O1xuIiwiLy8gVGhpcyBpcyBqdXN0IGEgd3JhcHBlciBmb3IgYWxsIHRoZSBXZWJBc3NlbWJseSBzdHVmZi5cblxuLy8gcmVxdWlyZSgnLi93YXNtX2V4ZWMuanMnKTtcbmNvbnN0IGdvID0gbmV3IEdvKCk7XG5cbmlmICghV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcpIHsgLy8gcG9seWZpbGxcbiAgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPSBhc3luYyAocmVzcCwgaW1wb3J0T2JqZWN0KSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gYXdhaXQgKGF3YWl0IHJlc3ApLmFycmF5QnVmZmVyKCk7XG4gICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHNvdXJjZSwgaW1wb3J0T2JqZWN0KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyB7XG5cbiAgY29uc3RydWN0b3Ioe3BsYXlTb3VuZCwgc3RvcFNvdW5kLCBkaXNwbGF5fSkge1xuICAgIHBsYXlTb3VuZCB8fD0gKCkgPT4ge307XG4gICAgc3RvcFNvdW5kIHx8PSAoKSA9PiB7fTtcbiAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fc3RvcFNvdW5kID0gc3RvcFNvdW5kO1xuXG4gICAgT2JqZWN0LmFzc2lnbihnby5pbXBvcnRPYmplY3QuZW52LCB7XG4gICAgICAnbWFpbi5yYW5kb21CeXRlJzogKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSAmIDB4RkYsXG4gICAgICAnbWFpbi5wbGF5U291bmQnOiAgKHBsYXlpbmdQYXR0ZXJuLCBwYXR0ZXJuLCBwaXRjaCkgPT4ge1xuICAgICAgICBwYXR0ZXJuID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fY3B1Lm1lbW9yeS5idWZmZXIsIHBhdHRlcm4sIDE2KTtcbiAgICAgICAgcGxheVNvdW5kKHBsYXlpbmdQYXR0ZXJuLCBwYXR0ZXJuLCBwaXRjaCk7XG4gICAgICB9LFxuICAgICAgJ21haW4uc3RvcFNvdW5kJzogIHN0b3BTb3VuZCxcbiAgICAgICdtYWluLnJlbmRlcic6ICh3aWR0aCwgaGVpZ2h0LCBkYXRhUHRyKSA9PiB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fY3B1Lm1lbW9yeS5idWZmZXIsIGRhdGFQdHIsIHdpZHRoICogaGVpZ2h0ICogMyk7XG4gICAgICAgIGRpc3BsYXkucmVuZGVyKHdpZHRoLCBoZWlnaHQsIGJ5dGVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGZldGNoKFwic2lsaWNvbjgud2FzbVwiKSwgZ28uaW1wb3J0T2JqZWN0KVxuICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICB0aGlzLl9jcHUgPSByZXN1bHQuaW5zdGFuY2UuZXhwb3J0cztcbiAgICAgIGdvLnJ1bihyZXN1bHQuaW5zdGFuY2UpO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nKVxuICAgICAgICAgIHRoaXMuX2NwdS5jbG9ja1RpY2soKVxuICAgICAgfSwgMTAwMCAvIDYwKTtcbiAgICB9KVxuICAgIC5jYXRjaChlID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRDeWNsZXNQZXJGcmFtZShuZXdDeWNsZXMpIHtcbiAgICB0aGlzLl9jcHUuc2V0Q3ljbGVzUGVyRnJhbWUobmV3Q3ljbGVzKTtcbiAgfVxuXG4gIGxvYWRQcm9ncmFtKHR5cGUsIHByb2dyYW0pIHtcbiAgICB0aGlzLl9jcHUucmVzZXQodHlwZSk7XG4gICAgY29uc3QgcmFtID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fY3B1Lm1lbW9yeS5idWZmZXIsIHRoaXMuX2NwdS5yYW1QdHIoKSwgdGhpcy5fY3B1LnJhbVNpemUoKSk7XG4gICAgLy8gTG9hZCBwcm9ncmFtIGludG8gUkFNXG4gICAgZm9yICggbGV0IGkgPSAweDIwMDsgaSA8IDB4MjAwICsgcHJvZ3JhbS5sZW5ndGg7IGkrKyApIHJhbVtpXSA9IHByb2dyYW1baSAtIDB4MjAwXTtcbiAgfVxuXG4gIGR1bXBTdGF0dXMoKSB7XG4gICAgdGhpcy5fY3B1LmR1bXBTdGF0dXMoKTtcbiAgfVxuXG4gIHByZXNzS2V5KGtleSkge1xuICAgIHRoaXMuX2NwdS5wcmVzc0tleShrZXkpO1xuICB9XG5cbiAgcmVsZWFzZUtleShrZXkpIHtcbiAgICB0aGlzLl9jcHUucmVsZWFzZUtleShrZXkpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5fcnVubmluZyA9IHRydWU7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuX3N0b3BTb3VuZCgpO1xuICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgfVxuXG59XG4iLCJjb25zdCBub3RpZnkgPSByZXF1aXJlKCcuL25vdGlmaWNhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGluc3RhbmNlID0+IHtcblxuICBjb25zdCBnYW1lcGFkcyA9IHt9O1xuICBsZXQgdW5hbm5vdW5jZWRHYW1lcGFkcyA9IFtdO1xuICBsZXQgcnVubmluZyA9IGZhbHNlO1xuXG4gIC8vIERlZmF1bHQgYnV0dG9ucyBmb3IgYSBzdGFuZGFyZCBjb250cm9sbGVyXG4gIGNvbnN0IGtleXMgPSB7XG4gICAgMTI6IDUsIC8vIFVwXG4gICAgMTQ6IDcsIC8vIExlZnRcbiAgICAxNTogOSwgLy8gUmlnaHRcbiAgICAxMzogOCwgLy8gRG93blxuXG4gICAgMDogNiwgIC8vIEFcbiAgICAxOiA0ICAgLy8gQlxuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkY29ubmVjdGVkJywgZSA9PiB7XG4gICAgLy8gSWdub3JlIGNvbnRyb2xsZXJzIHRoYXQgYXJlIG5vdCBzdGFuZGFyZCBjb250cm9sbGVyc1xuICAgIGlmICggZS5nYW1lcGFkLm1hcHBpbmcgIT0gXCJzdGFuZGFyZFwiICkge1xuICAgICAgdW5hbm5vdW5jZWRHYW1lcGFkcy5wdXNoKGUuZ2FtZXBhZC5pbmRleCk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coYPCfjq4gSWdub3JpbmcgZ2FtZXBhZCAke2UuZ2FtZXBhZC5pZH0gYmVjYXVzZSBpdCBpcyBub3QgYSAnc3RhbmRhcmQgbWFwcGluZycgZ2FtZXBhZGApO1xuICAgIH1cblxuICAgIG5vdGlmeShg8J+OriBDb25uZWN0ZWQgdG8gZ2FtZXBhZCBcIiR7ZS5nYW1lcGFkLmlkfVwiYCk7XG4gICAgc2F2ZVN0YXRlKGUuZ2FtZXBhZCk7XG4gICAgaWYgKCAhcnVubmluZyApIHtcbiAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHBvbGxHYW1lcGFkcyk7XG4gICAgfVxuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZGRpc2Nvbm5lY3RlZCcsIGUgPT4ge1xuICAgIC8vIFJlbW92ZSB1bmFubm91bmNlZCBnYW1lcGFkcyBmcm9tIG91ciBsaXN0IGlmIHRoZXkgbGVhdmVcbiAgICBpZiAoIHVuYW5ub3VuY2VkR2FtZXBhZHMuaW5jbHVkZXMoZS5nYW1lcGFkLmluZGV4KSApXG4gICAgICB1bmFubm91bmNlZEdhbWVwYWRzID0gdW5hbm5vdW5jZWRHYW1lcGFkcy5maWx0ZXIoZyA9PiBnICE9IGUuZ2FtZXBhZC5pbmRleCk7XG4gICAgLy8gSWdub3JlIGNvbnRyb2xsZXJzIHRoYXQgYXJlIG5vdCBpbiBvdXIgbWFpbiBsaXN0XG4gICAgaWYgKCAhZ2FtZXBhZHNbZS5nYW1lcGFkLmluZGV4XSApXG4gICAgICByZXR1cm47XG5cbiAgICBub3RpZnkoYPCfjq4gR2FtZXBhZCBcIiR7ZS5nYW1lcGFkLmlkfVwiIGRpc2Nvbm5lY3RlZGApO1xuICAgIGRlbGV0ZSBnYW1lcGFkc1tlLmdhbWVwYWQuaW5kZXhdO1xuICAgIGlmICggT2JqZWN0LmtleXMoZ2FtZXBhZHMpLmxlbmd0aCA9PSAwICkgcnVubmluZyA9IGZhbHNlO1xuICB9KTtcblxuICBmdW5jdGlvbiBwb2xsR2FtZXBhZHMoKSB7XG4gICAgaWYgKCAhcnVubmluZyApIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRHYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xuICAgIGlmICggIWN1cnJlbnRHYW1lcGFkcyApIHJldHVybjtcblxuICAgIGZvciAoIGNvbnN0IGdhbWVwYWQgb2YgY3VycmVudEdhbWVwYWRzICkge1xuICAgICAgLy8gRG9uJ3QgdXNlIG5vbi1leGlzdGFudCBnYW1lcGFkcyAobG9va2luZyBhdCB5b3UsIENocm9tZSlcbiAgICAgIGlmICggIWdhbWVwYWQgKSBjb250aW51ZTtcblxuICAgICAgLy8gT25seSB1c2UgZ2FtZXBhZHMgdGhhdCB3ZSBnb3QgYSB2YWxpZCBjb25uZWN0IGV2ZW50IGZvclxuICAgICAgaWYgKCAhZ2FtZXBhZHNbZ2FtZXBhZC5pbmRleF0gKSB7XG4gICAgICAgIGlmICggIXVuYW5ub3VuY2VkR2FtZXBhZHMuaW5jbHVkZXMoZ2FtZXBhZC5pbmRleCkgKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiR290IGFuIHVuYW5ub3VuY2VkIGdhbWVwYWQ6XCIsIGdhbWVwYWQpO1xuICAgICAgICAgIHVuYW5ub3VuY2VkR2FtZXBhZHMucHVzaChnYW1lcGFkLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYW55IG9mIHRoZSAodXNlZnVsKSBidXR0b25zIGNoYW5nZSBzdGF0ZSBvbiBhbnkgb2YgdGhlIGdhbWVwYWRzLFxuICAgICAgLy8gbGV0IFNpbGljb244IGtub3cuXG4gICAgICBmb3IgKCBjb25zdCBrZXkgaW4ga2V5cyApIHtcbiAgICAgICAgaWYgKCBnYW1lcGFkLmJ1dHRvbnNba2V5XS5wcmVzc2VkICE9IGdhbWVwYWRzW2dhbWVwYWQuaW5kZXhdW2tleV0gKSB7XG4gICAgICAgICAgaWYgKCBnYW1lcGFkLmJ1dHRvbnNba2V5XS5wcmVzc2VkIClcbiAgICAgICAgICAgIGluc3RhbmNlLnByZXNzS2V5KGtleXNba2V5XSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgaW5zdGFuY2UucmVsZWFzZUtleShrZXlzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgbmV3IHN0YXRlIGZvciBuZXh0IGxvb3BcbiAgICAgIHNhdmVTdGF0ZShnYW1lcGFkKTtcbiAgICB9XG5cbiAgICAvLyBLZWVwIHBvbGxpbmdcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocG9sbEdhbWVwYWRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVTdGF0ZShnYW1lcGFkKSB7XG4gICAgZ2FtZXBhZHNbZ2FtZXBhZC5pbmRleF0gPVxuICAgICAgT2JqZWN0LmtleXMoa2V5cylcbiAgICAgICAgICAgIC5tYXAoa2V5ID0+IFtrZXksIGdhbWVwYWQuYnV0dG9uc1trZXldLnByZXNzZWRdKVxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gKGFjY1t2YWx1ZVswXV0gPSB2YWx1ZVsxXSwgYWNjKSwge30pO1xuICB9XG5cbn07XG4iLCJsZXQgY3ljbGVzUGVyRnJhbWUgPSAzMDtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnN0YW5jZSA9PiB7XG4gIGNvbnN0IGtleXMgPSB7XG4gICAgLy8gQXJyb3cga2V5c1xuICAgIDM4OiA1LCBcdFx0Ly8gdXBcbiAgICAzNzogNywgXHRcdC8vIGxlZnRcbiAgICAzOTogOSwgXHRcdC8vIHJpZ2h0XG4gICAgNDA6IDgsIFx0XHQvLyBkb3duXG5cbiAgICAvLyAxNiBrZXkgcGFkXG4gICAgNDk6IDEsXHRcdC8vIDFcbiAgICA1MDogMixcdFx0Ly8gMlxuICAgIDUxOiAzLFx0XHQvLyAzXG4gICAgNTI6IDB4QyxcdC8vIDRcbiAgICA4MTogNCwgXHRcdC8vIFFcbiAgICA4NzogNSwgXHRcdC8vIFdcbiAgICA2OTogNiwgXHRcdC8vIEVcbiAgICA4MjogMHhELCBcdC8vIFJcbiAgICA2NTogNywgXHRcdC8vIEFcbiAgICA4MzogOCwgXHRcdC8vIFNcbiAgICA2ODogOSwgXHRcdC8vIERcbiAgICA3MDogMHhFLCBcdC8vIEZcbiAgICA5MDogMHhBLCBcdC8vIFpcbiAgICA4ODogMCwgXHRcdC8vIFhcbiAgICA2NzogMHhCLCBcdC8vIENcbiAgICA4NjogMHhGLCBcdC8vIFZcblxuICAgIC8vIE90aGVyIG51bWJlciBrZXlzXG4gICAgNDg6IDAsXG4gICAgNTM6IDUsXG4gICAgNTQ6IDYsXG4gICAgNTU6IDcsXG4gICAgNTY6IDgsXG4gICAgNTc6IDksXG5cbiAgICAvLyBTcGVjaWFsIGtleXNcbiAgICAzMjogNiwgICAgIC8vIFNwYWNlIGJhclxuICAgIDE2OiA0LCAgICAgLy8gU2hpZnRcbiAgICAxNzogNiwgICAgIC8vIENvbnRyb2xcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuICAgIGlmICggIWluc3RhbmNlICkgcmV0dXJuO1xuICAgIHN3aXRjaChlLmtleUNvZGUpIHtcbiAgICAgIGNhc2UgMTM6ICAvLyBFbnRlclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZHVtcFN0YXR1cygpO1xuICAgICAgY2FzZSAxODc6IC8vICtcbiAgICAgICAgY3ljbGVzUGVyRnJhbWUgKj0gMjtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnNldEN5Y2xlc1BlckZyYW1lKGN5Y2xlc1BlckZyYW1lKTtcbiAgICAgIGNhc2UgMTg5OiAvLyAtXG4gICAgICAgIGN5Y2xlc1BlckZyYW1lIC89IDI7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5zZXRDeWNsZXNQZXJGcmFtZShjeWNsZXNQZXJGcmFtZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoIE9iamVjdC5rZXlzKGtleXMpLmluY2x1ZGVzKGUua2V5Q29kZS50b1N0cmluZygpKSApXG4gICAgICAgICAgaW5zdGFuY2UucHJlc3NLZXkoa2V5c1tlLmtleUNvZGVdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4ge1xuICAgIGlmICggaW5zdGFuY2UgJiYga2V5c1tlLmtleUNvZGVdIClcbiAgICAgIGluc3RhbmNlLnJlbGVhc2VLZXkoa2V5c1tlLmtleUNvZGVdKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtleWJvYXJkIGJ1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgIGluc3RhbmNlLnByZXNzS2V5KGJ1dHRvbi5kYXRhc2V0LnZhbHVlKTtcbiAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgaW5zdGFuY2UucmVsZWFzZUtleShidXR0b24uZGF0YXNldC52YWx1ZSk7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9KTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IG1lc3NhZ2UgPT4ge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZpY2F0aW9uJyk7XG4gIG5vdGlmaWNhdGlvbi5pbm5lclRleHQgPSBtZXNzYWdlO1xuICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIHNldFRpbWVvdXQoKCkgPT4gbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpLCA1MDAwKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gaW5zdGFuY2UgPT4ge1xuICBjb25zdCBzZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncycpO1xuICBsZXQgcHJvZ3JhbTtcblxuICBzZXR0aW5ncy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB0eXBlID0gc2V0dGluZ3MucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImludGVycHJldGVyXCJdOmNoZWNrZWQnKS52YWx1ZTtcbiAgICBjb25zdCBzcGVlZCA9IHNldHRpbmdzLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPVwic3BlZWRcIl0nKS52YWx1ZTtcbiAgICBpbnN0YW5jZS5sb2FkUHJvZ3JhbSh0eXBlLCBwcm9ncmFtKTtcbiAgICBpbnN0YW5jZS5zZXRDeWNsZXNQZXJGcmFtZShzcGVlZCk7XG4gICAgc2V0dGluZ3MuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgaW5zdGFuY2Uuc3RhcnQoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHByZ20gPT4ge1xuICAgIHByb2dyYW0gPSBwcmdtO1xuICAgIHNldHRpbmdzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgcGxheVNvdW5kOiAocGxheWluZ1BhdHRlcm4sIHBhdHRlcm4sIHBpdGNoKSA9PiB7XG4gICAgaWYgKCBwbGF5aW5nUGF0dGVybiApIHtcbiAgICAgIC8vIFBsYXkgWE8tQ2hpcCBgcGF0dGVybmAgYXQgYHBpdGNoYFxuICAgICAgQmxlZXBzLmluc3RhbmNlKCkuc2V0VG9Tb3VuZChwYXR0ZXJuLCBwaXRjaCk7XG4gICAgICBCbGVlcHMuaW5zdGFuY2UoKS5zZXRWb2x1bWUoMC4wMDAzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUGxheSBhIHJlZ3VsYXIgb2xkIENISVAtOCBcImJlZXBcIlxuICAgICAgQmxlZXBzLmluc3RhbmNlKCkuc2V0VG9CbGVlcCgpO1xuICAgICAgQmxlZXBzLmluc3RhbmNlKCkuc2V0Vm9sdW1lKDAuMSk7XG4gICAgfVxuICB9LFxuICBzdG9wU291bmQ6ICgpID0+IHtcbiAgICBCbGVlcHMuaW5zdGFuY2UoKS5zZXRWb2x1bWUoMCk7XG4gIH1cbn07XG5cbmNsYXNzIEJsZWVwcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2F1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQgfHwgd2luZG93LmF1ZGlvQ29udGV4dCk7XG5cbiAgICB0aGlzLl9vc2NpbGxhdG9yID0gdGhpcy5fYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgIHRoaXMuX2dhaW5Ob2RlID0gdGhpcy5fYXVkaW9DdHguY3JlYXRlR2FpbigpO1xuICAgIHRoaXMuX29zY2lsbGF0b3IuY29ubmVjdCh0aGlzLl9nYWluTm9kZSk7XG4gICAgdGhpcy5fZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLl9hdWRpb0N0eC5kZXN0aW5hdGlvbik7XG5cbiAgICB0aGlzLnNldFZvbHVtZSgwKTtcbiAgICB0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KCk7XG4gIH1cblxuICBzZXRWb2x1bWUoZ2Fpbikge1xuICAgIHRoaXMuX2dhaW5Ob2RlLmdhaW4udmFsdWUgPSBnYWluO1xuICB9XG5cbiAgc2V0VG9CbGVlcCgpIHtcbiAgICB0aGlzLl9vc2NpbGxhdG9yLmZyZXF1ZW5jeS52YWx1ZSA9IDYwMDtcbiAgICB0aGlzLl9vc2NpbGxhdG9yLnR5cGUgPSAndHJpYW5nbGUnO1xuICB9XG5cbiAgc2V0VG9Tb3VuZChwYXR0ZXJuLCBwaXRjaCkge1xuICAgIC8vIEhvbmVzdGx5LCBJIGhhZCBubyBpZGVhIGhvdyB0byBnbyBmcm9tIGEgcGF0dGVybiBhbmQgYSBwaXRjaCB0byBzb21lXG4gICAgLy8gc291bmQgaW4gdGhlIGJyb3dzZXIuIEx1Y2tpbHkgS291emVydSByZWFjaGVkIG91dCBhbmQgaGVscGVkIG1lIGJ5XG4gICAgLy8gc3VwcGx5aW5nIHRoZSBGRlQgbWFnaWMgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIGNsYXNzISBUaGFua3Mgc28gbXVjaCFcbiAgICB0aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZShcbiAgICAgIHRoaXMuX3BlcmlvZGljV2F2ZSh0aGlzLl9wYXR0ZXJuVG9CaXRzKHBhdHRlcm4pKVxuICAgICk7XG4gICAgLy8gMTI4IGlzIGEgbWFnaWMgbnVtYmVyIPCfqoQsIGRpc2NvdmVyZWQgYnkgdHJpYWwgYW5kIGVycm9yLCBjb21wYXJpbmcgdGhlXG4gICAgLy8gc291bmQgdG8gT2N0byBhbmQgYSBsaXR0bGUgZWR1Y2F0ZWQgZ3Vlc3N3b3JrLiBJdCBtYXRjaGVzIHRoZSBudW1iZXIgb2ZcbiAgICAvLyBvbmUtYml0IHNhbXBsZXMgaW4gMTYgYnl0ZXMsIHdoaWNoIGlzIHdoeSB3ZSB0aGluayBpdCdzIGNvcnJlY3QuXG4gICAgdGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWUgPSBwaXRjaCAvIDEyODtcbiAgfVxuXG4gIC8vIEV4dGVuZCB0aGUgcGF0dGVybiB0byBhbiBhcnJheSBvZiBpbmRpdmlkdWFsIGJpdHMsIHF1YWRydXBsaW5nIGVhY2ggYml0IHRvXG4gIC8vIGdldCBhIG5pY2VyIHNxdWFyZSB3YXZlXG4gIF9wYXR0ZXJuVG9CaXRzKHBhdHRlcm4pIHtcbiAgICBjb25zdCBiaXRzID0gbmV3IEZsb2F0MzJBcnJheSg1MTIpO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKCBjb25zdCBieXRlIG9mIHBhdHRlcm4gKSB7XG4gICAgICBsZXQgbWFzayA9IDEyODtcbiAgICAgIHdoaWxlICggbWFzayAhPSAwICkge1xuICAgICAgICBjb25zdCB2YWwgPSAoYnl0ZSAmIG1hc2spICE9IDAgPyAxIDogMDtcbiAgICAgICAgYml0c1tpKytdID0gdmFsO1xuICAgICAgICBiaXRzW2krK10gPSB2YWw7XG4gICAgICAgIGJpdHNbaSsrXSA9IHZhbDtcbiAgICAgICAgYml0c1tpKytdID0gdmFsO1xuICAgICAgICBtYXNrID4+PSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYml0cztcbiAgfVxuXG4gIC8vIENvbnZlcnQgdGhlIGJpdCBwYXR0ZXJuIHRvIGEgd2F2ZSB0aGF0IG1ha2VzIHNlbnNlIHRvIHRoZSBvc2NpbGxhdG9yXG4gIF9wZXJpb2RpY1dhdmUoc2FtcGxlc1IpIHtcbiAgICB2YXIgc2FtcGxlc0kgPSBuZXcgRmxvYXQzMkFycmF5KHNhbXBsZXNSLmxlbmd0aCk7XG4gICAgdmFyIEZGVHJlc3VsdCA9IHRoaXMuX0ZGVChzYW1wbGVzUiwgc2FtcGxlc0kpO1xuICAgIHJldHVybiB0aGlzLl9hdWRpb0N0eC5jcmVhdGVQZXJpb2RpY1dhdmUoXG4gICAgICBGRlRyZXN1bHRbMF0uc2xpY2UoMCxGRlRyZXN1bHRbMF0ubGVuZ3RoLzIpLFxuICAgICAgRkZUcmVzdWx0WzFdLnNsaWNlKDAsRkZUcmVzdWx0WzFdLmxlbmd0aC8yKSxcbiAgICAgIHsgZGlzYWJsZU5vcm1hbGl6YXRpb246IHRydWUgfVxuICAgICk7XG4gIH1cblxuICAvLyBGYXN0IEZvdXJpZXIgVHJhbnNmb3JtLCBpbXBsZW1lbnRlZCBpbiBKYXZhU2NyaXB0IGJ5IEtvdXplcnVcbiAgLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS9Lb3V6ZXJ1KSBiYXNlZCBvbiB0aGUgcHNldWRvY29kZSBpblxuICAvLyBodHRwczovL3lvdXR1LmJlL2g3YXBPN3ExNlYwXG4gIF9GRlQoUixJKSB7XG4gICAgdmFyIG4gPSBSLmxlbmd0aDtcbiAgICBpZiAobiA9PSAxKSByZXR1cm4gW1IsSV07XG4gICAgdmFyIFdyID0gTWF0aC5jb3MoMipNYXRoLlBJL24pO1xuICAgIHZhciBXaSA9IE1hdGguc2luKDIqTWF0aC5QSS9uKTtcbiAgICB2YXIgUEVyID0gbmV3IEZsb2F0MzJBcnJheShuLzIpO1xuICAgIHZhciBQRWkgPSBuZXcgRmxvYXQzMkFycmF5KG4vMik7XG4gICAgdmFyIFBPciA9IG5ldyBGbG9hdDMyQXJyYXkobi8yKTtcbiAgICB2YXIgUE9pID0gbmV3IEZsb2F0MzJBcnJheShuLzIpO1xuICAgIGZvciAodmFyIHogPSAwOyB6PG47IHorKykge1xuICAgICAgaWYgKHomMSkge1xuICAgICAgICBQT3Jbej4+MV0gPSBSW3pdO1xuICAgICAgICBQT2lbej4+MV0gPSBJW3pdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUEVyW3o+PjFdID0gUlt6XTtcbiAgICAgICAgUEVpW3o+PjFdID0gSVt6XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgeWUgPSB0aGlzLl9GRlQoUEVyLFBFaSk7XG4gICAgdmFyIHlvID0gdGhpcy5fRkZUKFBPcixQT2kpO1xuICAgIHZhciB5ZXIgPSB5ZVswXSwgeWVpID0geWVbMV07XG4gICAgdmFyIHlvciA9IHlvWzBdLCB5b2kgPSB5b1sxXTtcbiAgICB2YXIgeXIgPSBuZXcgRmxvYXQzMkFycmF5KG4pO1xuICAgIHZhciB5aSA9IG5ldyBGbG9hdDMyQXJyYXkobik7XG5cbiAgICBmb3IgKHZhciB6ID0gMCwgbSA9IG4vMiwgcCA9IDEsIHEgPSAwLCByID0gMDsgejxtOyB6KyspIHtcbiAgICAgIHZhciBhID0geWVyW3pdLCBiID0geWVpW3pdO1xuICAgICAgdmFyIGMgPSB5b3Jbel0sIGQgPSB5b2lbel07XG4gICAgICB5clt6ICBdID0gYSArIHAqYyAtIHEqZDtcbiAgICAgIHlpW3ogIF0gPSBiICsgcCpkICsgcSpjO1xuICAgICAgeXJbeittXSA9IGEgLSBwKmMgKyBxKmQ7XG4gICAgICB5aVt6K21dID0gYiAtIHAqZCAtIHEqYztcbiAgICAgIHIgPSBwKldyIC0gcSpXaTtcbiAgICAgIHEgPSBwKldpICsgcSpXcjtcbiAgICAgIHA9cjtcbiAgICB9XG4gICAgcmV0dXJuIFt5cix5aV07XG4gIH1cbn1cblxuLy8gU291bmQgbWF5IG9ubHkgcGxheSBhZnRlciBhIFwidXNlciBnZXN0dXJlXCIsIHNvIHdlIGNhbid0IGp1c3QgY3JlYXRlIGEgc2luZ2xlXG4vLyBpbnN0YW5jZSBvZiBCbGVlcHMgb24gcGFnZSBsb2FkLiBTbyB3ZSB1c2UgYSBzaW5nbGV0b24gcGF0dGVybiBoZXJlIGluc3RlYWQsXG4vLyBcImxhenkgbG9hZGluZ1wiIHRoZSBpbnN0YW5jZSBhcyBsYXRlIGFzIHBvc3NpYmxlLlxuQmxlZXBzLmluc3RhbmNlID0gKCkgPT4ge1xuICBpZiAoISFCbGVlcHMuX2luc3RhbmNlKSByZXR1cm4gQmxlZXBzLl9pbnN0YW5jZTtcbiAgcmV0dXJuIEJsZWVwcy5faW5zdGFuY2UgPSBuZXcgQmxlZXBzKCk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLypcbiAqIFRoaXMgY2xhc3MgaW5zdGFsbHMgb25lIHNpbmdsZSBjbGljayBoYW5kbGVyIG9uIHRoZSB3aG9sZSBkb2N1bWVudCwgYW5kXG4gKiBldmFsdWF0ZXMgd2hpY2ggY2FsbGJhY2sgdG8gY2FsbCBhdCBjbGljayB0aW1lLCBiYXNlZCBvbiB0aGUgZWxlbWVudCB0aGF0IGhhc1xuICogYmVlbiBjbGlja2VkLiBUaGlzIGFsbG93cyB1cyB0byBzd2FwIG91dCBhbmQgcmVyZW5kZXIgd2hvbGUgc2VjdGlvbnMgb2YgdGhlXG4gKiBET00gd2l0aG91dCBoYXZpbmcgdG8gcmVpbnN0YWxsIGEgYnVuY2ggb2YgY2xpY2sgaGFuZGxlcnMgZWFjaCB0aW1lLiBUaGlzXG4gKiBuaWNlbHkgZGVjb3VwbGVzIHRoZSByZW5kZXIgbG9naWMgZnJvbSB0aGUgY2xpY2sgZXZlbnQgbWFuYWdlbWVudCBsb2dpYy5cbiAqXG4gKiBUbyBtYWtlIHN1cmUgd2UgcmVhbGx5IG9ubHkgaW5zdGFsbCBhIHNpbmdsZSBjbGljayBoYW5kbGVyLCB5b3UgY2FuIHVzZSB0aGVcbiAqIHNpbmdsZXRvbiBwYXR0ZXJuIGFuZCBhc2sgZm9yIGBDbGljay5pbnN0YW5jZSgpYCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3XG4gKiBvYmplY3QuXG4gKi9cblxuY2xhc3MgQ2xpY2sge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2hhbmRsZXJzID0ge307XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICAgICAoZSkgPT4gdGhpcy5fY2FsbEhhbmRsZXIoJ2NsaWNrJywgICAgIGUpKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4gdGhpcy5fY2FsbEhhbmRsZXIoJ21vdXNlZG93bicsIGUpKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgICAoZSkgPT4gdGhpcy5fY2FsbEhhbmRsZXIoJ21vdXNldXAnLCAgIGUpKTtcbiAgfVxuXG4gIHJlZ2lzdGVyKHNlbGVjdG9yLCBoYW5kbGVycyA9IHtjbGljazogbnVsbCwgbW91c2Vkb3duOiBudWxsLCBtb3VzZXVwOiBudWxsfSkge1xuICAgIGlmICh0eXBlb2YgaGFuZGxlcnMgPT0gJ2Z1bmN0aW9uJykgaGFuZGxlcnMgPSB7IGNsaWNrOiBoYW5kbGVycyB9O1xuICAgIHRoaXMuX2hhbmRsZXJzW3NlbGVjdG9yXSA9IHRoaXMuX2hhbmRsZXJzW3NlbGVjdG9yXSB8fCBbXTtcbiAgICB0aGlzLl9oYW5kbGVyc1tzZWxlY3Rvcl0ucHVzaChoYW5kbGVycyk7XG4gIH1cblxuICBfY2FsbEhhbmRsZXIodHlwZSwgZSkge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuX2hhbmRsZXJzKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5faGFuZGxlcnNbc2VsZWN0b3JdLm1hcCgoaCkgPT4gaFt0eXBlXSk7XG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT0gJ2Z1bmN0aW9uJyAmJiAhZS5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgaGFuZGxlcihlLCBzZWxlY3RvcilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuXG5DbGljay5pbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoISFDbGljay5faW5zdGFuY2UpIHJldHVybiBDbGljay5faW5zdGFuY2U7XG4gIHJldHVybiBDbGljay5faW5zdGFuY2UgPSBuZXcgQ2xpY2soKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2xpY2s7XG4iLCIvKlxuICogVGhpcyBjbGFzcyBpbnN0YWxscyBzaW5nbGUgZHJhZyBldmVudCBoYW5kbGVycyBvbiB0aGUgd2hvbGUgZG9jdW1lbnQsIGFuZFxuICogZXZhbHVhdGVzIHdoaWNoIGVsZW1lbnQgdGhleSBpbmZsdWVuY2UgYXQgZHJhZyB0aW1lLiBJZiB5b3UgZHJvcCBhIGZpbGUgdGhlXG4gKiByZWxldmFudCBjYWxsYmFjayBnZXRzIGNhbGxlZCwgYmFzZWQgb24gdGhlIGVsZW1lbnQgdGhhdCB0aGUgZmlsZSB3YXMgZHJvcHBlZFxuICogb24uIFRoaXMgYWxsb3dzIHVzIHRvIHN3YXAgb3V0IGFuZCByZXJlbmRlciB3aG9sZSBzZWN0aW9ucyBvZiB0aGUgRE9NIHdpdGhvdXRcbiAqIGhhdmluZyB0byByZWluc3RhbGwgYSBidW5jaCBvZiBldmVudCBoYW5kbGVycyBlYWNoIHRpbWUuIFRoaXMgbmljZWx5XG4gKiBkZWNvdXBsZXMgdGhlIHJlbmRlciBsb2dpYyBmcm9tIHRoZSBkcmFnIGV2ZW50IG1hbmFnZW1lbnQgbG9naWMuXG4gKlxuICogVG8gbWFrZSBzdXJlIHdlIHJlYWxseSBvbmx5IGluc3RhbGwgc2luZ2xlIGhhbmRsZXJzLCB5b3UgY2FuIHVzZSB0aGVcbiAqIHNpbmdsZXRvbiBwYXR0ZXJuIGFuZCBhc2sgZm9yIGBGaWxlVGFyZ2V0Lmluc3RhbmNlKClgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXdcbiAqIG9iamVjdC5cbiAqL1xuXG5pbXBvcnQgQ2xpY2sgZnJvbSAnLi9jbGljayc7XG5cbmNsYXNzIEZpbGVUYXJnZXQge1xuXG4gIGNvbnN0cnVjdG9yKGRyYWdDbGFzcyA9ICdkcmFnZ2luZycpIHtcbiAgICB0aGlzLl9kcmFnQ2xhc3MgPSBkcmFnQ2xhc3M7XG4gICAgdGhpcy5faGFuZGxlcnMgID0ge307XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsICAoZSkgPT4gdGhpcy5fZHJhZ092ZXIoZSkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB0aGlzLl9kcmFnTGVhdmUoZSkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAgICAgIChlKSA9PiB0aGlzLl9kcm9wKGUpKTtcbiAgfVxuXG4gIHJlZ2lzdGVyKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX2hhbmRsZXJzW3NlbGVjdG9yXSA9IGNhbGxiYWNrO1xuICAgIENsaWNrLmluc3RhbmNlKCkucmVnaXN0ZXIoc2VsZWN0b3IsIChlLCBzKSA9PiB0aGlzLl9vcGVuRmlsZURpYWxvZyhlLCBzKSk7XG4gIH1cblxuICBfZHJhZ092ZXIoZSkge1xuICAgIGlmICghdGhpcy5faXNEcm9wVGFyZ2V0KGUudGFyZ2V0KSkgcmV0dXJuO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9kcmFnQ2xhc3MpO1xuICB9XG5cbiAgX2RyYWdMZWF2ZShlKSB7XG4gICAgaWYgKCF0aGlzLl9pc0Ryb3BUYXJnZXQoZS50YXJnZXQpKSByZXR1cm47XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kcmFnQ2xhc3MpO1xuICB9XG5cbiAgX2Ryb3AoZSkge1xuICAgIGxldCBzZWxlY3RvciA9IHRoaXMuX2lzRHJvcFRhcmdldChlLnRhcmdldCk7XG4gICAgaWYgKCFzZWxlY3RvcikgcmV0dXJuO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZHJhZ0NsYXNzKTtcbiAgICB0aGlzLl9oYW5kbGVGaWxlKHNlbGVjdG9yLCBlLCBlLmRhdGFUcmFuc2Zlci5maWxlc1swXSk7XG4gIH1cblxuICBfaXNEcm9wVGFyZ2V0KHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9oYW5kbGVycykuZmluZCgoc2VsZWN0b3IpID0+IHtcbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdChzZWxlY3RvcikpIHJldHVybiBzZWxlY3RvcjtcbiAgICB9KSB8fCBmYWxzZTtcbiAgfVxuXG4gIF9vcGVuRmlsZURpYWxvZyhlLCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC50eXBlICA9ICdmaWxlJztcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoYykgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUZpbGUoc2VsZWN0b3IsIGUsIGMudGFyZ2V0LmZpbGVzWzBdKVxuICAgICk7XG4gICAgaW5wdXQuY2xpY2soKTtcbiAgfVxuXG4gIF9oYW5kbGVGaWxlKHNlbGVjdG9yLCBlLCBmaWxlKSB7XG4gICAgdGhpcy5fcmVhZEZpbGUoZmlsZSlcbiAgICAgICAgLnRoZW4oKHIpID0+IHRoaXMuX2hhbmRsZXJzW3NlbGVjdG9yXShmaWxlLCByLCBlKSk7XG4gIH1cblxuICBfcmVhZEZpbGUoZmlsZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHJlc29sdmUoZS50YXJnZXQucmVzdWx0KSk7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbkZpbGVUYXJnZXQuaW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCEhRmlsZVRhcmdldC5faW5zdGFuY2UpIHJldHVybiBGaWxlVGFyZ2V0Ll9pbnN0YW5jZTtcbiAgcmV0dXJuIEZpbGVUYXJnZXQuX2luc3RhbmNlID0gbmV3IEZpbGVUYXJnZXQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsZVRhcmdldDtcbiIsIi8qKlxuICogVGhpcyBpcyBhIHZlcnkgc2ltcGxlIHJvdXRpbmcgY2xhc3MgdGhhdCBsaXN0ZW5zIHRvIGxvY2F0aW9uIGhhc2ggY2hhbmdlcyBhbmRcbiAqIGNsaWNrcyBvbiBsaW5rcyB0byByZWdpc3RlcmVkIHJvdXRlcy5cbiAqXG4gKiBZb3UgaGF2ZSB0byBleHBsaWNpdGx5IGRlZmluZSB0aGUgcm91dGVzIHRoYXQgeW91IHdpc2ggdG8gdXNlLCBzbyB3ZSBkb24ndFxuICogY2xhc2ggKHRvbyBtdWNoKSB3aXRoIGRlZXAtbGlua2luZyB0byBuYW1lZCBhbmNob3JzIG9uIHlvdXIgcGFnZS4gQW5kIGFsc29cbiAqIGJlY2F1c2UgaXQgZW5hYmxlcyB5b3UgdG8gaGFuZGxlIGRpZmZlcmVudCByb3V0ZXMgd2l0aCBkaWZmZXJlbnQgZnVuY3Rpb25zLlxuICovXG5cbmltcG9ydCBDbGljayBmcm9tICcuL2NsaWNrJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyIHtcblxuICBjb25zdHJ1Y3Rvcihyb3V0ZXMgPSBmYWxzZSwgaGFuZGxlciA9IG51bGwpIHtcbiAgICB0aGlzLl9yb3V0ZXMgPSBbXTtcbiAgICBpZiAocm91dGVzKSB0aGlzLmFkZFJvdXRlcyhyb3V0ZXMsIGhhbmRsZXIpO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICBDbGljay5pbnN0YW5jZSgpLnJlZ2lzdGVyKCdhW2hyZWZdJywgIChlKSA9PiB0aGlzLl9oYW5kbGVDbGljayhlKSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoZSkgPT4gdGhpcy5faGFuZGxlTmF2aWdhdGlvbkV2ZW50KGUpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICAgICAgIChlKSA9PiB0aGlzLl9oYW5kbGVOYXZpZ2F0aW9uRXZlbnQoZSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkUm91dGUocm91dGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLl9yb3V0ZXMucHVzaChbcm91dGUsIGhhbmRsZXJdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFJvdXRlcyhyb3V0ZXMsIGhhbmRsZXIgPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocm91dGVzKSlcbiAgICAgIHJvdXRlcy5mb3JFYWNoKChyb3V0ZSkgPT4gdGhpcy5hZGRSb3V0ZShyb3V0ZSwgaGFuZGxlcikpO1xuICAgIGVsc2VcbiAgICAgIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaChyb3V0ZSA9PiB0aGlzLmFkZFJvdXRlKHJvdXRlLCByb3V0ZXNbcm91dGVdKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByb3V0ZShyb3V0ZSwgZXZudCkge1xuICAgIGNvbnN0IG1hdGNoID0gdGhpcy5fbWF0Y2hpbmdSb3V0ZShyb3V0ZSk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoLnJvdXRlcikgIHJldHVybiBtYXRjaC5yb3V0ZXIucm91dGUobWF0Y2guc3VicGF0aCwgZXZudCk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoLmhhbmRsZXIpIHJldHVybiBtYXRjaC5oYW5kbGVyKG1hdGNoLnJvdXRlLCBtYXRjaC5tYXRjaGVzLCBldm50KTtcbiAgfVxuXG4gIF9oYW5kbGVDbGljayhldm50KSB7XG4gICAgbGV0IGxpbmsgPSBldm50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICBpZiAoIWxpbmsuc3RhcnRzV2l0aCgnIycpKSByZXR1cm47ICAgICAgIC8vIE9ubHkgaGFuZGxlIGhhc2ggbGlua3NcbiAgICBsaW5rID0gbGluay5zdWJzdHIoMSk7XG4gICAgaWYgKCF0aGlzLl9tYXRjaGluZ1JvdXRlKGxpbmspKSByZXR1cm47ICAvLyBPbmx5IGhhbmRsZSByZWdpc3RlcmVkIHJvdXRlc1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gbGluaztcbiAgICBldm50LnByZXZlbnREZWZhdWx0KCk7ICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZnJvbSBqdW1waW5nIHRvIGFuY2hvclxuICB9XG5cbiAgX2hhbmRsZU5hdmlnYXRpb25FdmVudChldm50KSB7XG4gICAgbGV0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgIGlmIChoYXNoLnN0YXJ0c1dpdGgoJyMnKSkgaGFzaCA9IGhhc2guc3Vic3RyKDEpO1xuICAgIHRoaXMucm91dGUoaGFzaCwgZXZudCk7XG4gIH1cblxuICBfbWF0Y2hpbmdSb3V0ZShyb3V0ZSkge1xuICAgIHJldHVybiByb3V0ZSAmJiAoIHRoaXMuX3N1YlJvdXRlck1hdGNoKHJvdXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmluZ01hdGNoKHJvdXRlKSAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZ0V4cE1hdGNoKHJvdXRlKSAgICAgICApO1xuICB9XG5cbiAgX3N1YlJvdXRlck1hdGNoKHJvdXRlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB0aGlzLl9yb3V0ZXMuZmlsdGVyKHIgPT4gclsxXSBpbnN0YW5jZW9mIFJvdXRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKHIgPT4gcm91dGUuc3RhcnRzV2l0aChyWzBdICsgJy8nKSB8fCByb3V0ZSA9PSByWzBdKTtcblxuICAgIHJldHVybiBtYXRjaCAmJiB7XG4gICAgICByb3V0ZXI6ICBtYXRjaFsxXSxcbiAgICAgIHN1YnBhdGg6IHJvdXRlLnN1YnN0cihtYXRjaFswXS5sZW5ndGggKyAxKVxuICAgIH07XG4gIH1cblxuICBfc3RyaW5nTWF0Y2gocm91dGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IHRoaXMuX3JvdXRlcy5maW5kKHIgPT4gcm91dGUgPT0gclswXSk7XG5cbiAgICByZXR1cm4gbWF0Y2ggJiYge1xuICAgICAgcm91dGU6ICAgbWF0Y2hbMF0sXG4gICAgICBoYW5kbGVyOiBtYXRjaFsxXVxuICAgIH07XG4gIH1cblxuICBfcmVnRXhwTWF0Y2gocm91dGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IHRoaXMuX3JvdXRlcy5maWx0ZXIociA9PiByWzBdIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQociA9PiByb3V0ZS5tYXRjaChyWzBdKSk7XG5cbiAgICByZXR1cm4gbWF0Y2ggJiYge1xuICAgICAgcm91dGU6ICAgbWF0Y2hbMF0sXG4gICAgICBoYW5kbGVyOiBtYXRjaFsxXSxcbiAgICAgIG1hdGNoZXM6IHJvdXRlLm1hdGNoKG1hdGNoWzBdKVxuICAgIH07XG4gIH1cblxufVxuIiwiaW1wb3J0IENsaWNrICAgICAgZnJvbSAnLi9jbGljayc7XG5pbXBvcnQgRmlsZVRhcmdldCBmcm9tICcuL2ZpbGV0YXJnZXQnO1xuaW1wb3J0IFJvdXRlciAgICAgZnJvbSAnLi9yb3V0ZXInO1xuaW1wb3J0IEVuZXJnaXplICAgZnJvbSAnLi9lbmVyZ2l6ZSc7XG5cbmNvbnN0IFRoaW1ibGVmdWwgPSB7XG4gIENsaWNrLCBGaWxlVGFyZ2V0LCBSb3V0ZXIsIEVuZXJnaXplXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaGltYmxlZnVsO1xud2luZG93LlRoaW1ibGVmdWwgPSBUaGltYmxlZnVsO1xuIiwiLyoqXG4gKiBHaXZlbiBhIHNjb3BlIHRoaXMgY2xhc3MgYWRkcyBhIGJ1bmNoIG9mIGJlaGF2aW91ciB0byBlbGVtZW50cyB0aGF0XG4gKiB5b3UgZGVmaW5lIHRocm91Z2ggZGF0YSBhdHRyaWJ1dGVzLiBUaGlzIGJlaGF2aW91ciBpcyBiYXNlZCBhcm91bmQgYWRkaW5nXG4gKiBvciByZW1vdmluZyBhbiAnYWN0aXZlJyBjbGFzcyB3aGVuIGVsZW1lbnRzIGFyZSBjbGlja2VkOlxuICpcbiAqICAtIGRhdGEtb3BlbiDigJQgQSBzZWxlY3RvciB0byBwdXQgdGhlICdhY3RpdmUnIGNsYXNzIG9uIHdoZW4gY2xpY2tlZFxuICogIC0gZGF0YS1jbG9zZSDigJQgQSBzZWxlY3RvciB0byByZW1vdmUgdGhlICdhY3RpdmUnIGNsYXNzIGZyb20gd2hlbiBjbGlja2VkXG4gKiAgLSBkYXRhLXRvZ2dsZSDigJQgQSBzZWxlY3RvciB0byB0b2dnbGUgdGhlICdhY3RpdmUnIGNsYXNzIG9uIHdoZW4gY2xpY2tlZFxuICogIC0gZGF0YS1ncm91cCDigJQgSWYgSSBnZXQgdGhlICdhY3RpdmUnIGNsYXNzLCByZW1vdmUgaXQgZnJvbSBvdGhlcnMgaW4gbXkgZ3JvdXBcbiAqICAtIGRhdGEtdGltZXIg4oCUIElmIEkgZ2V0IHRoZSAnYWN0aXZlJyBjbGFzcywgcmVtb3ZlIGl0IGFnYWluIGFmdGVyIHRoaXMgbWFueSBtaWxsaXNlY29uZHNcbiAqICAtIGRhdGEtZm9sbG93ZXIg4oCUIEEgc2VsZWN0b3IgZm9yIGFub3RoZXIgZWxlbWVudCB0aGF0IGZvbGxvd3MgbXkgYmVoYXZpb3VyXG4gKlxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gb3ZlcnJpZGUgdGhlIGNsYXNzIG5hbWUgYW5kIHRoZSBuYW1lcyBvZiBhbGwgdGhlXG4gKiBhdHRyaWJ1dGVzIGFzIG9wdGlvbnMgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICovXG5cbmltcG9ydCBDbGljayBmcm9tICcuL2NsaWNrJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5lcmdpemUge1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9zY29wZSAgID0gc2NvcGU7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICBDbGljay5pbnN0YW5jZSgpLnJlZ2lzdGVyKGAke3Njb3BlfSBbJHt0aGlzLl9vcHRpb25zLm9wZW59XSwgJHtzY29wZX0gWyR7dGhpcy5fb3B0aW9ucy5jbG9zZX1dLCAke3Njb3BlfSBbJHt0aGlzLl9vcHRpb25zLnRvZ2dsZX1dYCwgKGUpID0+IHRoaXMuX2hhbmRsZUNsaWNrKGUpKTtcbiAgfVxuXG4gIF9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbGFzczogICAgJ2FjdGl2ZScsXG4gICAgICBvcGVuOiAgICAgJ2RhdGEtb3BlbicsXG4gICAgICBjbG9zZTogICAgJ2RhdGEtY2xvc2UnLFxuICAgICAgdG9nZ2xlOiAgICdkYXRhLXRvZ2dsZScsXG4gICAgICBncm91cDogICAgJ2RhdGEtZ3JvdXAnLFxuICAgICAgdGltZXI6ICAgICdkYXRhLXRpbWVyJyxcbiAgICAgIGZvbGxvd2VyOiAnZGF0YS1mb2xsb3dlcidcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuXG4gIF9oYW5kbGVDbGljayhldm50KSB7XG4gICAgLy8gV2hpY2ggZWxlbWVudCBkaWQgd2UgY2xpY2s/XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZudC50YXJnZXQuY2xvc2VzdChgWyR7dGhpcy5fb3B0aW9ucy5vcGVufV0sIFske3RoaXMuX29wdGlvbnMuY2xvc2V9XSwgWyR7dGhpcy5fb3B0aW9ucy50b2dnbGV9XWApO1xuXG4gICAgLy8gV2hhdCBkb2VzIHRoZSBjbGlja2VkIGVsZW1lbnQgd2lzaCB0byBvcGVuLCBjbG9zZSBvciB0b2dnbGU/XG4gICAgY29uc3QgY2xvc2VTZWxlY3RvciAgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKHRoaXMuX29wdGlvbnMuY2xvc2UpO1xuICAgIGNvbnN0IG9wZW5TZWxlY3RvciAgID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLl9vcHRpb25zLm9wZW4pO1xuICAgIGNvbnN0IHRvZ2dsZVNlbGVjdG9yID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLl9vcHRpb25zLnRvZ2dsZSk7XG5cbiAgICBsZXQgY2xvc2VFbGVtZW50cyA9IGNsb3NlU2VsZWN0b3IgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke3RoaXMuX3Njb3BlfSAke2Nsb3NlU2VsZWN0b3J9YCkgIDogW107XG4gICAgbGV0IG9wZW5FbGVtZW50cyAgPSAgb3BlblNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHt0aGlzLl9zY29wZX0gJHtvcGVuU2VsZWN0b3J9YCkgICA6IFtdO1xuXG4gICAgLy8gQWRkIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBiZSB0b2dnbGVkXG4gICAgY2xvc2VFbGVtZW50cyA9IFsuLi5jbG9zZUVsZW1lbnRzLCAuLi4odG9nZ2xlU2VsZWN0b3IgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke3RoaXMuX3Njb3BlfSAke3RvZ2dsZVNlbGVjdG9yfS4ke3RoaXMuX29wdGlvbnMuY2xhc3N9YCkgICAgICAgOiBbXSldO1xuICAgIG9wZW5FbGVtZW50cyAgPSBbLi4ub3BlbkVsZW1lbnRzLCAgLi4uKHRvZ2dsZVNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHt0aGlzLl9zY29wZX0gJHt0b2dnbGVTZWxlY3Rvcn06bm90KC4ke3RoaXMuX29wdGlvbnMuY2xhc3N9KWApIDogW10pXTtcblxuICAgIHRoaXMuX2Nsb3NlKGNsb3NlRWxlbWVudHMpO1xuICAgIHRoaXMuX29wZW4ob3BlbkVsZW1lbnRzKTtcblxuICAgIC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIGV2ZW50LCBkb24ndCB0cnkgdG8gZXZhbHVhdGUgaXQgYW55IGZ1cnRoZXJcbiAgICBldm50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIF9jbG9zZShlbGVtZW50cykge1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcHRpb25zLmNsYXNzKTtcbiAgICAgIHRoaXMuX2Nsb3NlKHRoaXMuX2ZvbGxvd2VycyhlbGVtZW50KSk7XG4gICAgfSk7XG4gIH1cblxuICBfb3BlbihlbGVtZW50cykge1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2Nsb3NlKHRoaXMuX2dyb3VwKGVsZW1lbnQpKTtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLmNsYXNzKTtcbiAgICAgIHRoaXMuX29wZW4odGhpcy5fZm9sbG93ZXJzKGVsZW1lbnQpKTtcblxuICAgICAgLy8gU2V0IHNlbGYtZGVzdHJ1Y3QgdGltZXIgaWYgbmVlZGVkXG4gICAgICBjb25zdCBkZWxheSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMuX29wdGlvbnMudGltZXIpO1xuICAgICAgaWYgKGRlbGF5KSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9jbG9zZShbZWxlbWVudF0pLCBkZWxheSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ3JvdXAoZWxlbWVudCkge1xuICAgIGNvbnN0IGdyb3VwID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy5fb3B0aW9ucy5ncm91cCk7XG4gICAgaWYgKCFncm91cCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHt0aGlzLl9zY29wZX0gWyR7dGhpcy5fb3B0aW9ucy5ncm91cH09JHtncm91cH1dYCldO1xuICB9XG5cbiAgX2ZvbGxvd2VycyhlbGVtZW50KSB7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSh0aGlzLl9vcHRpb25zLmZvbGxvd2VyKTtcbiAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gW107XG4gICAgcmV0dXJuIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke3RoaXMuX3Njb3BlfSAke3NlbGVjdG9yfWApXTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgVGhpbWJsZWZ1bCBmcm9tICd0aGltYmxlZnVsJztcbmNvbnN0IHR5cGVzID0gcmVxdWlyZSgnLi4vc2hhcmVkL3R5cGVzJyk7XG5cbmltcG9ydCB3ZWxjb21lIGZyb20gXCIhIWJpbmFyeS1sb2FkZXIhLi93ZWxjb21lLmNoOFwiO1xuY29uc3Qgd2VsY29tZVByb2dyYW0gPSBuZXcgVWludDhBcnJheSh3ZWxjb21lLmxlbmd0aCk7XG5mb3IgKGxldCBpID0gMDsgaSA8IHdlbGNvbWUubGVuZ3RoOyBpKyspXG4gIHdlbGNvbWVQcm9ncmFtW2ldID0gd2VsY29tZS5jaGFyQ29kZUF0KGkpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgRW11bGF0b3IgPSByZXF1aXJlKCcuL2VtdWxhdG9yJyk7XG4gIGNvbnN0IGtleWJvYXJkID0gcmVxdWlyZSgnLi9rZXlib2FyZCcpO1xuICBjb25zdCBnYW1lcGFkID0gcmVxdWlyZSgnLi9nYW1lcGFkJyk7XG4gIGNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuICBjb25zdCBkaXNwbGF5ID0gcmVxdWlyZSgnLi9kaXNwbGF5Jyk7XG4gIGNvbnN0IHsgcGxheVNvdW5kLCBzdG9wU291bmQgfSA9IHJlcXVpcmUoJy4vc291bmQnKTtcblxuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBFbXVsYXRvcih7IGRpc3BsYXksIHBsYXlTb3VuZCwgc3RvcFNvdW5kIH0pO1xuICBhd2FpdCBpbnN0YW5jZS5pbml0KCk7XG4gIGtleWJvYXJkKGluc3RhbmNlKTtcbiAgZ2FtZXBhZChpbnN0YW5jZSk7XG4gIGNvbnN0IHNob3dTZXR0aW5ncyA9IHNldHRpbmdzKGluc3RhbmNlKTtcblxuICBpbnN0YW5jZS5sb2FkUHJvZ3JhbSh0eXBlcy5BVVRPLCB3ZWxjb21lUHJvZ3JhbSk7XG4gIGluc3RhbmNlLnN0YXJ0KCk7XG5cbiAgY29uc3QgZmlsZVRhcmdldCA9IFRoaW1ibGVmdWwuRmlsZVRhcmdldC5pbnN0YW5jZSgpO1xuICBmaWxlVGFyZ2V0LnJlZ2lzdGVyKCcjZGlzcGxheScsIChmaWxlLCBkYXRhKSA9PiB7XG4gICAgaWYgKCBmaWxlLm5hbWUuc3Vic3RyKC00KSAhPSAnLmNoOCcgKVxuICAgICAgcmV0dXJuIGFsZXJ0KCdZb3UgY2FuIG9ubHkgbG9hZCAqLmNoOCBDSElQLTggUk9NcycpO1xuICAgIGRhdGEgPSBhdG9iKGRhdGEuc3BsaXQoJywnKVsxXSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihkYXRhLmxlbmd0aCkpO1xuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKysgKVxuICAgICAgcHJvZ3JhbVtpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICBpbnN0YW5jZS5zdG9wKCk7XG4gICAgc2hvd1NldHRpbmdzKHByb2dyYW0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJBVVRPIiwiU1RSSUNUVklQIiwiVklQIiwiQkxJTkRWSVAiLCJTQ0hJUCIsIlhPQ0hJUCIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInJlbmRlciIsIndpZHRoIiwiaGVpZ2h0IiwiYnl0ZXMiLCJpbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJpIiwiZGlzcGxheU9mZnNldCIsInNpbGljb244T2Zmc2V0IiwiZGF0YSIsInB1dEltYWdlRGF0YSIsImdvIiwiR28iLCJXZWJBc3NlbWJseSIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwiYXN5bmMiLCJyZXNwIiwiaW1wb3J0T2JqZWN0Iiwic291cmNlIiwiYXJyYXlCdWZmZXIiLCJpbnN0YW50aWF0ZSIsImNvbnN0cnVjdG9yIiwicGxheVNvdW5kIiwic3RvcFNvdW5kIiwiZGlzcGxheSIsInRoaXMiLCJfcnVubmluZyIsIl9zdG9wU291bmQiLCJPYmplY3QiLCJhc3NpZ24iLCJlbnYiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwbGF5aW5nUGF0dGVybiIsInBhdHRlcm4iLCJwaXRjaCIsIlVpbnQ4QXJyYXkiLCJfY3B1IiwibWVtb3J5IiwiYnVmZmVyIiwiZGF0YVB0ciIsImluaXQiLCJmZXRjaCIsInRoZW4iLCJyZXN1bHQiLCJpbnN0YW5jZSIsInJ1biIsIl9pbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xvY2tUaWNrIiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwic2V0Q3ljbGVzUGVyRnJhbWUiLCJuZXdDeWNsZXMiLCJsb2FkUHJvZ3JhbSIsInR5cGUiLCJwcm9ncmFtIiwicmVzZXQiLCJyYW0iLCJyYW1QdHIiLCJyYW1TaXplIiwibGVuZ3RoIiwiZHVtcFN0YXR1cyIsInByZXNzS2V5Iiwia2V5IiwicmVsZWFzZUtleSIsInN0YXJ0Iiwic3RvcCIsIm5vdGlmeSIsImdhbWVwYWRzIiwidW5hbm5vdW5jZWRHYW1lcGFkcyIsInJ1bm5pbmciLCJrZXlzIiwicG9sbEdhbWVwYWRzIiwiY3VycmVudEdhbWVwYWRzIiwibmF2aWdhdG9yIiwiZ2V0R2FtZXBhZHMiLCJnYW1lcGFkIiwiaW5kZXgiLCJidXR0b25zIiwicHJlc3NlZCIsInNhdmVTdGF0ZSIsImluY2x1ZGVzIiwid2FybiIsInB1c2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtYXAiLCJyZWR1Y2UiLCJhY2MiLCJ2YWx1ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYXBwaW5nIiwibG9nIiwiaWQiLCJmaWx0ZXIiLCJnIiwiY3ljbGVzUGVyRnJhbWUiLCJrZXlDb2RlIiwidG9TdHJpbmciLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImJ1dHRvbiIsImRhdGFzZXQiLCJwYXNzaXZlIiwibWVzc2FnZSIsIm5vdGlmaWNhdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lclRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwic2V0dGluZ3MiLCJzcGVlZCIsInByZ20iLCJCbGVlcHMiLCJzZXRUb1NvdW5kIiwic2V0Vm9sdW1lIiwic2V0VG9CbGVlcCIsIl9hdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImF1ZGlvQ29udGV4dCIsIl9vc2NpbGxhdG9yIiwiY3JlYXRlT3NjaWxsYXRvciIsIl9nYWluTm9kZSIsImNyZWF0ZUdhaW4iLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJnYWluIiwiZnJlcXVlbmN5Iiwic2V0UGVyaW9kaWNXYXZlIiwiX3BlcmlvZGljV2F2ZSIsIl9wYXR0ZXJuVG9CaXRzIiwiYml0cyIsIkZsb2F0MzJBcnJheSIsImJ5dGUiLCJtYXNrIiwidmFsIiwic2FtcGxlc1IiLCJzYW1wbGVzSSIsIkZGVHJlc3VsdCIsIl9GRlQiLCJjcmVhdGVQZXJpb2RpY1dhdmUiLCJzbGljZSIsImRpc2FibGVOb3JtYWxpemF0aW9uIiwiUiIsIkkiLCJuIiwiV3IiLCJjb3MiLCJQSSIsIldpIiwic2luIiwiUEVyIiwiUEVpIiwiUE9yIiwiUE9pIiwieiIsInllIiwieW8iLCJ5ZXIiLCJ5ZWkiLCJ5b3IiLCJ5b2kiLCJ5ciIsInlpIiwibSIsInAiLCJxIiwiciIsImEiLCJiIiwiYyIsImQiLCJfaW5zdGFuY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkNsaWNrIiwiX2hhbmRsZXJzIiwiX2NhbGxIYW5kbGVyIiwicmVnaXN0ZXIiLCJzZWxlY3RvciIsImhhbmRsZXJzIiwiY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwidGFyZ2V0IiwiY2xvc2VzdCIsImgiLCJoYW5kbGVyIiwiZGVmYXVsdFByZXZlbnRlZCIsIkZpbGVUYXJnZXQiLCJkcmFnQ2xhc3MiLCJfZHJhZ0NsYXNzIiwiX2RyYWdPdmVyIiwiX2RyYWdMZWF2ZSIsIl9kcm9wIiwiY2FsbGJhY2siLCJzIiwiX29wZW5GaWxlRGlhbG9nIiwiX2lzRHJvcFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsIl9oYW5kbGVGaWxlIiwiZmlsZXMiLCJmaW5kIiwiaW5wdXQiLCJjcmVhdGVFbGVtZW50IiwiZmlsZSIsIl9yZWFkRmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJSb3V0ZXIiLCJyb3V0ZXMiLCJfcm91dGVzIiwiYWRkUm91dGVzIiwiaW5zdGFsbCIsIl9oYW5kbGVDbGljayIsIl9oYW5kbGVOYXZpZ2F0aW9uRXZlbnQiLCJhZGRSb3V0ZSIsInJvdXRlIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZudCIsIm1hdGNoIiwiX21hdGNoaW5nUm91dGUiLCJyb3V0ZXIiLCJzdWJwYXRoIiwibWF0Y2hlcyIsImxpbmsiLCJnZXRBdHRyaWJ1dGUiLCJzdGFydHNXaXRoIiwic3Vic3RyIiwibG9jYXRpb24iLCJoYXNoIiwiX3N1YlJvdXRlck1hdGNoIiwiX3N0cmluZ01hdGNoIiwiX3JlZ0V4cE1hdGNoIiwiUmVnRXhwIiwiVGhpbWJsZWZ1bCIsInNjb3BlIiwib3B0aW9ucyIsIl9zY29wZSIsIl9vcHRpb25zIiwiX25vcm1hbGl6ZU9wdGlvbnMiLCJvcGVuIiwiY2xvc2UiLCJ0b2dnbGUiLCJjbGFzcyIsImdyb3VwIiwidGltZXIiLCJmb2xsb3dlciIsImNsb3NlU2VsZWN0b3IiLCJvcGVuU2VsZWN0b3IiLCJ0b2dnbGVTZWxlY3RvciIsImNsb3NlRWxlbWVudHMiLCJvcGVuRWxlbWVudHMiLCJfY2xvc2UiLCJfb3BlbiIsImVsZW1lbnRzIiwiZWxlbWVudCIsIl9mb2xsb3dlcnMiLCJfZ3JvdXAiLCJkZWxheSIsInR5cGVzIiwid2VsY29tZVByb2dyYW0iLCJFbXVsYXRvciIsImtleWJvYXJkIiwic2hvd1NldHRpbmdzIiwibmFtZSIsImFsZXJ0IiwiYXRvYiIsInNwbGl0IiwiQXJyYXlCdWZmZXIiLCJjaGFyQ29kZUF0Il0sInNvdXJjZVJvb3QiOiIifQ==